@page "{id:int}"
@model TrainerManager.UI.Pages.Trainers.DetailsModel

<div class="container py-4">
    <div class="row g-4">
        <div class="col-lg-4">
            <div class="card shadow-sm mb-4">
                <div class="card-header bg-dark text-white text-center py-3">
                    <h5 class="mb-0">Profile Media</h5>
                </div>
                <div class="card-body text-center">
                    <div class="mb-4">
                        @if (!string.IsNullOrEmpty(Model.Trainer.ProfileImagePath))
                        {
                            <img src="@Model.Trainer.ProfileImagePath" class="img-thumbnail" style="width: 160px; height: 160px; object-fit: cover;" />
                        }
                        else
                        {
                            <i class="bi bi-person-bounding-box text-primary" style="font-size: 4rem;"></i>
                        }
                        <p class="text-muted small mt-2">Professional identity and resume.</p>
                    </div>
                    @if (!string.IsNullOrEmpty(Model.Trainer.ResumePath))
                    {
                        <a href="@Model.Trainer.ResumePath" target="_blank" class="btn btn-sm btn-outline-info w-100 mb-2">
                            <i class="bi bi-file-earmark-pdf"></i> View Resume
                        </a>
                    }
                </div>
            </div>

            <div class="card shadow-sm border-0 bg-light p-3">
                <a asp-page="./Edit" asp-route-id="@Model.Trainer.Id" class="btn btn-primary w-100 mb-2">
                    <i class="bi bi-pencil-square me-2"></i>Edit Profile
                </a>
                <a asp-page="./Index" class="btn btn-outline-secondary w-100">Back to List</a>
            </div>
        </div>

        <div class="col-lg-8">
            <div class="card shadow-sm mb-4">
                <div class="card-body">
                    <h5 class="section-title text-primary"><i class="bi bi-person-vcard me-2"></i>Personal Identification</h5>
                    <div class="row g-3">
                        <div class="col-md-6">
                            <label class="label-small">First Name</label>
                            <p class="border-bottom">@Model.Trainer.FirstName</p>
                        </div>
                        <div class="col-md-6">
                            <label class="label-small">Last Name</label>
                            <p class="border-bottom">@Model.Trainer.LastName</p>
                        </div>
                        <div class="col-12">
                            <label class="label-small">Business Email</label>
                            <p class="border-bottom">@Model.Trainer.Email</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card shadow-sm mb-4">
                <div class="card-body">
                    <h5 class="section-title text-primary"><i class="bi bi-telephone me-2"></i>Contact & Identity</h5>
                    <div class="row g-3">
                        <div class="col-md-6">
                            <label class="label-small">Mobile Number</label>
                            <p class="border-bottom">@Model.Trainer.MobileNumber</p>
                        </div>
                        <div class="col-md-6">
                            <label class="label-small">LinkedIn URL</label>
                            <p class="border-bottom">@(Model.Trainer.LinkedInUrl ?? "N/A")</p>
                        </div>
                        <div class="col-12">
                            <label class="label-small">Identity (ID/PAN)</label>
                            <p class="border-bottom">@(Model.Trainer.IdentityNumber ?? "N/A")</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card shadow-sm mb-4">
                <div class="card-body">
                    <h5 class="section-title text-primary"><i class="bi bi-briefcase me-2"></i>Experience & Skills</h5>
                    <div class="row g-3">
                        <div class="col-md-6">
                            <label class="label-small">Field / Specialization</label>
                            <p class="border-bottom">@Model.Trainer.Field - @Model.Trainer.Specialization</p>
                        </div>
                        <div class="col-md-6">
                            <label class="label-small">Years of Experience</label>
                            <p class="border-bottom">@Model.Trainer.YearsOfExperience Years</p>
                        </div>
                        <div class="col-12">
                            <label class="label-small">Last Company</label>
                            <p class="border-bottom">@Model.Trainer.LastCompanyName</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card shadow-sm mb-4 border-visa">
                <div class="card-body">
                    <h5 class="section-title text-warning"><i class="bi bi-passport me-2"></i>Visa Information</h5>
                    <div class="row g-3">
                        <div class="col-md-4">
                            <label class="label-small">Visa Type</label>
                            <p>@Model.Trainer.VisaType</p>
                        </div>
                        <div class="col-md-4">
                            <label class="label-small">Country</label>
                            <p>@Model.Trainer.VisaCountry</p>
                        </div>
                        <div class="col-md-4">
                            <label class="label-small">Expiry Date</label>
                            <p>@Model.Trainer.VisaExpiry?.ToString("dd-MM-yyyy")</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card shadow-sm mb-4 border-finance">
                <div class="card-body">
                    <h5 class="section-title text-success"><i class="bi bi-bank me-2"></i>Financial & Bank Details</h5>
                    <div class="row g-3">
                        <div class="col-md-6">
                            <label class="label-small">Hourly Rate</label>
                            <p>@Model.Trainer.Costing.HourlyRate @Model.Trainer.Costing.Currency</p>
                        </div>
                        <div class="col-md-6">
                            <label class="label-small">Bank Name</label>
                            <p>@Model.Trainer.AccountDetails?.BankName</p>
                        </div>
                        <div class="col-12">
                            <label class="label-small">Account Number</label>
                            <p>@Model.Trainer.AccountDetails?.AccountNumber</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card shadow-sm mb-4">
                <div class="card-body">
                    <h5 class="section-title text-primary"><i class="bi bi-patch-check me-2"></i>Certifications</h5>
                    @if (Model.Trainer.Certifications.Any())
                    {
                        foreach (var cert in Model.Trainer.Certifications)
                        {
                            <div class="d-flex justify-content-between border-bottom py-2 mb-1">
                                <div>
                                    <span class="fw-bold">@cert.Name</span><br />
                                    <small class="text-muted">@cert.IssuingOrganization</small>
                                </div>
                                <span class="badge bg-light text-dark align-self-center">@cert.DateObtained.ToString("MMM yyyy")</span>
                            </div>
                        }
                    }
                    else
                    {
                        <p class="text-muted small">No certifications recorded.</p>
                    }
                </div>
            </div>

            <div class="card shadow-sm mb-4">
                <div class="card-body">
                    <h5 class="section-title text-secondary"><i class="bi bi-geo-alt me-2"></i>Location</h5>
                    <div class="row g-3">
                        <div class="col-12">
                            <label class="label-small">Street</label>
                            <p class="border-bottom">@Model.Trainer.Address.Street</p>
                        </div>
                        <div class="col-md-4">
                            <label class="label-small">City</label>
                            <p class="border-bottom">@Model.Trainer.Address.City</p>
                        </div>
                        <div class="col-md-4">
                            <label class="label-small">State / Zip</label>
                            <p class="border-bottom">@Model.Trainer.Address.State @Model.Trainer.Address.Zip</p>
                        </div>
                        <div class="col-md-4">
                            <label class="label-small">Country</label>
                            <p class="border-bottom">@Model.Trainer.Address.Country</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>